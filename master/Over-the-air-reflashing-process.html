<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Overview of the process - OE4T Meta Tegra</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="docs/mdbook/css/custom-7cc8859f.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-f966af29.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-fb00983b.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">OE4T Meta Tegra</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <p>There may be times when you need to perform the equivalent of a
re-flashing of your Jetson-based device without being able to use
the normal flashing process via USB. This is possible, although
there are some risks, and it requires careful setup and testing.</p>
<p>Possible applications:</p>
<ul>
<li>
<p>You need to alter the layout of the partitions in the Jetson’s
eMMC storage.</p>
</li>
<li>
<p>You need to update a Jetson running software based off an older
version of the L4T BSP to a newer version that requires a modified
layout of the eMMC and/or SPI flash (for Jetsons that have a
SPI flash boot device).</p>
</li>
<li>
<p>You just need the equivalent of a full “factory reset” that
restores the device to a pristine state.</p>
</li>
</ul>
<p>This page walks through a basic example of how to do this, using
tools and scripts that you can modify/adapt as needed. The example
uses a Jetson-TX2 development kit target; it has also been tested
with Xavier and Nano development kits.</p>
<h1 id="overview-of-the-process"><a class="header" href="#overview-of-the-process">Overview of the process</a></h1>
<p>The goal here is to perform the equivalent of a USB “tegraflash”
on the running device. What that entails is: erasing/reformatting
the storage devices on the Jetson module and writing the correct
boot code/data, kernel, rootfs, etc. so that on reboot, the
device successfully boots into the image.</p>
<p>To do this under Linux, we can’t be running in a rootfs that is
mounted in the on-module storage. If your device supports external
storage that is bootable, you could use that, or you could run
the process entirely from an initial RAM disk loaded with the
Linux kernel. The following example uses the latter approach.</p>
<h1 id="ingredients"><a class="header" href="#ingredients">Ingredients</a></h1>
<ul>
<li>The <a href="https://github.com/madisongh/tegra-sysinstall">tegra-sysinstall</a> repo contains
the scripts that execute the overall process.</li>
<li>The <a href="https://github.com/OE4T/tegra-boot-tools">tegra-boot-tools</a> repo contains the
tools for writing the boot partitions.</li>
<li>Example recipes for creating the initramfs image for the TX2 running an old
L4T R32.1-based build are <a href="https://github.com/madisongh/test-distro/tree/warrior/layers/meta-testdistro/recipes-upgrader">here</a>.</li>
<li>The new image, based on L4T R32.5.0, is built from <a href="https://github.com/madisongh/tegra-test-distro/tree/dunfell-l4t-r32.5.0">this test distro</a>.</li>
</ul>
<h2 id="key-considerations"><a class="header" href="#key-considerations">Key considerations</a></h2>
<ul>
<li>
<p>The <a href="https://github.com/madisongh/tegra-test-distro/blob/dunfell-l4t-r32.5.0/layers/meta-testdistro/recipes-bsp/tegra-binaries/custom-flash-layout/flash_jetson-tx2-devkit_custom.xml">flash layout</a> from the new image build is used to generate configuration files that the
tools use for correctly re-partitioning the storage devices.  To ensure that the bootloaders and Linux agree on the eMMC partition layout, the primary GPT must be at least 16,896 bytes (33 512-byte sectors). (This is the case with the stock flash layouts for all recent releases of L4T.)</p>
</li>
<li>
<p>The <code>partition_table</code> file generated by the <a href="https://github.com/madisongh/tegra-test-distro/blob/dunfell-l4t-r32.5.0/layers/meta-testdistro/recipes-devtools/tegra-tools/sysinstall-partition-layout_1.0.bb">sysinstall-partition-layout</a> recipe from the R32.5.0-based build
must be copied into the <a href="https://github.com/madisongh/test-distro/blob/warrior/layers/meta-testdistro/recipes-upgrader/tools/sysinstall-partition-layout/jetson-tx2/partition_table">metadata for the warrior/R32.1-based build</a>, since that file will be part of the warrior-based initramfs.</p>
</li>
<li>
<p>The <code>tegra-bootloader-update</code> tool uses a BUP payload as the source of the
contents for all of the boot partitions. The stock L4T BUP payload generator does
<strong>not</strong> include all of the boot partition contents.  <a href="https://github.com/OE4T/meta-tegra/commit/3e9d2bcedc812ff77a4e93da9cc4b05e1877591c">Recent commits into meta-tegra</a>
include patches for the generator to include the missing pieces for TX2 and Xavier
platforms. <strong>Update 10 Jun 2021:</strong> The additions to the BUP payload turned out to be
incompatible with the stock L4T <code>nv_upgrade_engine</code> bootloader update program on the
TX2 and were reworked <a href="https://github.com/OE4T/meta-tegra/commit/ab3f5bc5b178762245469dbc90ba9312bc06f369">here</a>
to create an alternate payload that contains the full complement of boot partitions
for TX2-based platforms.</p>
</li>
<li>
<p>The <code>tegra-sysinstall</code> script expects the new rootfs image to be in tarball form,
and does not perform any authentication or sanity checking on the image, so it is
only usable for development purposes and should not be used in production.</p>
</li>
</ul>
<h1 id="build-process"><a class="header" href="#build-process">Build process</a></h1>
<ul>
<li>
<p>The R32.5.0-based build includes <code>tegra-bup-payload</code>, which installs a BUP payload in
<code>/opt/ota_package</code> and pulls in the bootloader update tool. The <code>demo-image-egl</code> image was
used for this example.  Note that it has <code>IMAGE_FSTYPES</code> set to include building a <code>tar.gz</code>
tarball for the rootfs.</p>
</li>
<li>
<p>The <a href="https://github.com/madisongh/test-distro/blob/warrior/layers/meta-testdistro/recipes-upgrader/images/sysinstall-upgrader-initramfs.bb">sysinstall-upgrader-initramfs</a> recipe
in the warrior/R32.1-based tree builds a BUP payload containing the kernel and initrd suitable for installing with <code>nv_update_engine</code> on a system running an R32.1-based image. (Note that for platforms using U-Boot, installing the initrd would require a different process.)</p>
</li>
<li>
<p>The <code>core-image-base</code> image from the warrior/R32.1 tree was used as the starting point for the example.</p>
</li>
</ul>
<h1 id="process-steps"><a class="header" href="#process-steps">Process steps</a></h1>
<ol>
<li>
<p>Start by flashing the R32.5.0-based image directly on the TX2. Use <code>sgdisk /dev/mmcblk0 --print</code> to display the partition table, and save that output so you can compare the results against the partition table created later during the installation process.</p>
</li>
<li>
<p>Boot the <code>core-image-base</code> image from the warrior/R32.1-based distro on the TX2.</p>
</li>
<li>
<p>Because the filesystem size is not expanded out to the full APP partition size in this build,
use <code>mkfs.ext4</code> to format the UDA partition, and mount that at <code>/mnt</code>.</p>
</li>
<li>
<p><code>rmdir /opt/ota_package</code>, then <code>ln -sn /mnt /opt/ota_package</code> to provide space
for the BUP payload.</p>
</li>
<li>
<p>Use <code>wget</code> to download the <code>sysinstall-upgrader-initramfs-jetson-tx2.bup-payload</code> built
in the warrior/R32.1-based build tree as <code>/opt/ota_package/bl_update_payload</code>.</p>
</li>
<li>
<p>Use <code>nv_update_engine --enable-ab</code>, then <code>nv_update_engine --install no-reboot</code> to
install the BUP payload. If successful, <code>reboot</code>.</p>
</li>
<li>
<p>The kernel command line in the initramfs image doesn’t have <code>console=</code> set, so be patient while
the image loads (takes about a minute or so) - there is no kernel output during the boot.</p>
</li>
<li>
<p><code>mkdir /var/extra</code>, as this directory is needed as a mount point during the installation.</p>
</li>
<li>
<p><code>mkdir /installer</code> and use <code>wget</code> or <code>curl</code> to download the <code>demo-image-egl-jetson-tx2-devkit.tar.gz</code>
tarball from the R32.5.0-based build, naming it <code>/installer/image.tar.gz</code>.</p>
</li>
<li>
<p><code>tegra-sysinstall</code> to start the installation process. After it reformats the eMMC, the script will display the new partition table. Verify that the partition start and end sectors match the ones displayed in step 1 (after flashing the R32.5.0 image directly). If there is a mismatch, the device will probably not boot properly.</p>
</li>
</ol>
<p>This section could be customized for a specific delivery mechanism.  For instance,
instead of using wget to download the BUP payload, the package could be delivered through
your preferred update mechanism.  If using an A/B update scheme like the one used for
<code>tegrademo-mender</code> it should be possible to use the filesystem in the new boot partition
to host the BUP payload and image content.</p>
<h2 id="installation-steps"><a class="header" href="#installation-steps">Installation steps</a></h2>
<p>These are the steps performed by <code>tegra-sysinstall</code>:</p>
<ol>
<li>
<p>The <code>sgdisk</code> command (from the <code>gptfdisk</code> package) is used to zap the GPT partition
table and create all of the partitions on the eMMC, based on the configuration file
at <code>/usr/share/tegra-sysinstall/partition_table</code>.</p>
</li>
<li>
<p>The APP, APP_b, DATA, LOGS, and EXTRA partitions are formatted using <code>mkfs.ext4</code>.</p>
</li>
<li>
<p>The EXTRA partition is mounted at <code>/var/extra</code> for use as temporary storage.</p>
</li>
<li>
<p>The rootfs tarball is unpacked into the APP partition, then into the APP_b partition.</p>
</li>
<li>
<p>The boot partitions are initialized by <code>chroot</code>ing into the just-installed APP partition
to run <code>tegra-bootloader-update --initialize</code> using the BUP payload and
<code>/usr/share/tegra-boot-tools/boot-partitions.conf</code> configuration file from the just-installed
rootfs.</p>
</li>
</ol>
<p>Once the above steps are complete, the device can be rebooted, and should boot into
the 32.5.0-based image.</p>
<p>(Please note that the <code>tegra-sysinstall</code> scripts were developed to test support for
secure boot combined with LUKS encrypted filesystems and programming a unique machine
ID in the odm_reserved fuses, so there are several functions in the scripts that can
be ignored/skipped for testing the installation process.)</p>
<h1 id="things-to-watch-out-for"><a class="header" href="#things-to-watch-out-for">Things to watch out for</a></h1>
<ul>
<li>
<p>If the initramfs with the installation tools is too large for cboot to handle properly
(it has some compiled-in limits on the amount of memory it can reserve for the initial
RAM disk), you’ll see data abort errors on the serial console.</p>
</li>
<li>
<p>If the BUP payload is missing any of the boot-related contents, the device will fail
to boot when rebooting after the installation process is complete - one of the early-stage
bootloaders will report errors on the serial console, and the device should go into
USB recovery mode.</p>
</li>
<li>
<p>The above can also happen if there is a mismatch in the starting offsets and/or sizes
of any of the boot partitions in the eMMC and the expected offsets that got built into
the boot control tables for the bootloader during BUP generation. It’s important that
the <code>/usr/share/tegra-sysinstall/partition_table</code> configuration file in the
initramfs gets correctly generated from the same flash layout XML file that you are
using for the <em>image you are upgrading to</em>.</p>
</li>
<li>
<p>Any power interruption or other event that causes the device to reset or reboot, or
otherwise interrupt the reflashing process, will render the device unbootable. Since
the process can take several minutes (depending on the specific hardware, size of the
image being installed, etc.), use of this process should be managed carefully.</p>
</li>
<li>
<p>Full BUP support in meta-tegra, covering multiple module revisions in a single payload,
was added with the update to <a href="L4T-R32.3.1-Notes.html#bootloader-update-support">L4T R32.3.1</a>.
If you are currently running builds based off an older version of L4T, you may run into
boot issues after installing the upgrader BUP payload on some TX2 modules.  Adjusting the
TEGRA_FAB setting in your build configuration to match the actual FAB revision of the
module(s) you’re using should help with this.</p>
</li>
</ul>
<h1 id="video-walkthrough"><a class="header" href="#video-walkthrough">Video walkthrough</a></h1>
<p>See the <a href="https://youtu.be/8Rc46O9Fyu4">OE4T May 2021 meeting video</a> and <a href="https://github.com/OE4T/meta-tegra/wiki/OE4T-Meeting-Notes---2021-05-13">notes</a>
for initial discussion and walkthrough of the content discussed here.</p>
<h1 id="testing"><a class="header" href="#testing">Testing</a></h1>
<ul>
<li>Jetson TX2 - upgrade from <a href="https://github.com/madisongh/test-distro/tree/warrior/">L4T R32.1-based build</a>
to <a href="https://github.com/OE4T/tegra-demo-distro/tree/dunfell-l4t-r32.4.3">L4T R32.4.3-based build</a></li>
<li>Jetson TX2 - upgrade from custom Sumo+L4T R28.1-based (U-Boot) build to
<a href="https://github.com/OE4T/tegra-demo-distro/tree/dunfell-l4t-r32.4.3">L4T R32.4.3-based build</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="OE4T-Contributor-Guide.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="PPS-GPIO-Support-on-Jetson-TX1-TX2.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="OE4T-Contributor-Guide.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="PPS-GPIO-Support-on-Jetson-TX1-TX2.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->
        <script src="docs/mdbook/js/version-dropdown-b3498603.js"></script>



    </div>
    </body>
</html>
